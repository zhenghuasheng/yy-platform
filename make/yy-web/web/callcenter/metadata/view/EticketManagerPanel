{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "autoScroll": true,
        "bodyBorder": true,
        "closable": true,
        "collapsed": false,
        "designer|uiInterfaceName": "default",
        "designer|userAlias": "eticketmanagerpanel",
        "designer|userClassName": "EticketManagerPanel",
        "height": 592,
        "id": "EticketManagerPanel",
        "itemId": "EticketManagerPanel",
        "layout": "fit",
        "modelValidation": false,
        "title": "电子优惠券管理",
        "width": 658
    },
    "name": "MyPanel6",
    "designerId": "e91ea72c-c03c-40f6-91a3-2a7286c27591",
    "viewControllerInstanceId": "01f42f1d-7b02-4c5c-8909-b10163db171b",
    "viewModelInstanceId": "1ac0fa7c-fc91-4118-adad-48113488db5a",
    "cn": [
        {
            "type": "Ext.container.Container",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "height": 401,
                "id": "EticketManagerContainer",
                "itemId": "EticketManagerContainer",
                "layout": "border"
            },
            "name": "MyContainer1",
            "designerId": "37a98278-779f-40f2-82a8-b3da57f46c26",
            "cn": [
                {
                    "type": "Ext.tab.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "activeTab": 0,
                        "id": "EticketManagerTabPanel",
                        "itemId": "EticketManagerTabPanel",
                        "layout|flex": 12,
                        "layout|region": "center"
                    },
                    "name": "MyTabPanel1",
                    "designerId": "654e8eda-c960-4bb6-84eb-85d90618cb74",
                    "cn": [
                        {
                            "type": "Ext.panel.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "animCollapse": true,
                                "designer|uiInterfaceName": "default-framed",
                                "frame": true,
                                "itemId": "canUseEticket",
                                "layout": "fit",
                                "title": "可用优惠券"
                            },
                            "name": "MyPanel4",
                            "designerId": "6670cb65-b4c5-4ae0-b8c2-78f13b29d31b",
                            "cn": [
                                {
                                    "type": "Ext.grid.Panel",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "columnLines": true,
                                        "id": "eticketManagerGridPanel",
                                        "itemId": "eticketManagerGridPanel",
                                        "store": "EticketManagerStore",
                                        "title": ""
                                    },
                                    "name": "MyGridPanel3",
                                    "designerId": "e6e63179-d664-4ff9-82e5-fa00a277287a",
                                    "cn": [
                                        {
                                            "type": "Ext.grid.column.RowNumberer",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "align": "center",
                                                "text": "序号",
                                                "width": 74
                                            },
                                            "name": "MyRowNumberer1",
                                            "designerId": "e3d38e1a-adcc-4b47-b6a2-fcd8f8aa7dad"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_name",
                                                "text": "名称",
                                                "width": 152
                                            },
                                            "name": "MyColumn5",
                                            "designerId": "a7252364-0509-4d0f-b1b3-3168efe2c918"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_type",
                                                "text": "类型"
                                            },
                                            "name": "MyColumn10",
                                            "designerId": "2f30a097-19d5-4a4f-8b44-3fd21bae352f"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_id",
                                                "hidden": true,
                                                "text": "优惠券编号"
                                            },
                                            "name": "MyColumn4",
                                            "designerId": "06ade99c-a9fb-4df4-b739-93e36b661b04"
                                        },
                                        {
                                            "type": "Ext.grid.column.Date",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_starttime",
                                                "format": "Y-m-d",
                                                "text": "有效开始日期"
                                            },
                                            "name": "MyDateColumn",
                                            "designerId": "be98a3f1-18db-4dac-93ad-bef56b8bab79"
                                        },
                                        {
                                            "type": "Ext.grid.column.Date",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_endtime",
                                                "format": "Y-m-d",
                                                "text": "有效截止日期"
                                            },
                                            "name": "MyDateColumn1",
                                            "designerId": "cdb8b978-4fbf-4343-810d-1c704aac711c"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_money",
                                                "text": "金额"
                                            },
                                            "name": "MyColumn17",
                                            "designerId": "570d1481-c7d1-45b5-90d7-00a79ec11850"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_rebate",
                                                "text": "折扣"
                                            },
                                            "name": "MyColumn18",
                                            "designerId": "e8a6a0e6-8119-40b8-8024-86df9f2d724d"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_prenum",
                                                "text": "剩余数量"
                                            },
                                            "name": "MyColumn19",
                                            "designerId": "8a1231fb-b306-42a4-a2b2-2a97ed66596d"
                                        },
                                        {
                                            "type": "Ext.grid.column.Action",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "text": "操作"
                                            },
                                            "name": "MyActionColumn",
                                            "designerId": "f44aeae3-9c86-43e2-8561-9c26ea9db08f",
                                            "cn": [
                                                {
                                                    "type": "actioncolumnitem",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "altText": null,
                                                        "designer|displayName": "是否失效",
                                                        "iconCls": "Bulletcross",
                                                        "tooltip": "失效"
                                                    },
                                                    "name": "MyActionColumnItem",
                                                    "designerId": "f4c12f5c-cd88-41cd-b473-e1e8a19d918d",
                                                    "cn": [
                                                        {
                                                            "type": "fixedfunction",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "designer|params": [
                                                                    "view",
                                                                    "rowIndex",
                                                                    "colIndex",
                                                                    "item",
                                                                    "e",
                                                                    "record",
                                                                    "row"
                                                                ],
                                                                "fn": "handler",
                                                                "implHandler": [
                                                                    "Ext.MessageBox.confirm('请确认', '您确认修改吗？',function(btn){",
                                                                    "",
                                                                    "     if(btn==='no'){",
                                                                    "         return;",
                                                                    "     }else if(btn==='yes'){",
                                                                    "",
                                                                    "",
                                                                    "         var f_id=record.data.f_id;",
                                                                    "         var f_status=0;",
                                                                    "         var url = Ext.getStore('ConfigStore').getAt(0).get('WebServerUrl');",
                                                                    "         Ext.Ajax.request({",
                                                                    "",
                                                                    "",
                                                                    "             url:url+\"/action/eticket/update.do\",",
                                                                    "             params:{",
                                                                    "                 f_id:f_id,",
                                                                    "                 f_status:f_status",
                                                                    "             },",
                                                                    "",
                                                                    "             success:function(response){",
                                                                    "               var text = response.responseText;",
                                                                    "               var result = JSON.parse(text);",
                                                                    "",
                                                                    "        if (result=== null) {",
                                                                    "            Ext.Msg.alert('提示', '修改出错了，结果：' + result);",
                                                                    "            return;",
                                                                    "        }",
                                                                    "",
                                                                    "        if (result.succeed) {",
                                                                    "",
                                                                    "            view.store.reload();",
                                                                    "",
                                                                    "            Ext.Msg.alert('提示', '修改成功');",
                                                                    "        } else {",
                                                                    "            Ext.Msg.alert('提示', '保存出错了，错误：' + result.ptError);",
                                                                    "            return;",
                                                                    "        }",
                                                                    "                },",
                                                                    "",
                                                                    "    failure:function(){",
                                                                    "    Ext.Msg.alert('提示','操作失败');",
                                                                    "",
                                                                    "                },",
                                                                    "   });",
                                                                    "",
                                                                    "     }",
                                                                    "",
                                                                    "});",
                                                                    "",
                                                                    "",
                                                                    "",
                                                                    "",
                                                                    "",
                                                                    ""
                                                                ]
                                                            },
                                                            "name": "handler",
                                                            "designerId": "27750be8-247b-48db-bbdc-303542a79cf4"
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.grid.View",
                                            "reference": {
                                                "name": "viewConfig",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "name": "MyGridView3",
                                            "designerId": "e030f9ee-9189-4d5a-9972-ebc73b5f71c0"
                                        },
                                        {
                                            "type": "Ext.selection.RowModel",
                                            "reference": {
                                                "name": "selModel",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "name": "MyRowSelectionModel",
                                            "designerId": "62eb0baa-0c6f-407a-acb6-098b9ef0eb43"
                                        },
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onEticketManagerGridPanelCellContextMenu",
                                                "implHandler": [
                                                    "var targetDel=\"/action/eticket/delete.do\";",
                                                    "var storeId='EticketManagerStore';",
                                                    "var refreshUrl=\"/action/eticket/list.do?system=ytadmin@7788\";",
                                                    "var rightMenu=new CallCenterApp.view.RightClickMenu({",
                                                    "    record: record,",
                                                    "    targetDel:targetDel,",
                                                    "    storeId:storeId,",
                                                    "    refreshUrl:refreshUrl",
                                                    "});",
                                                    "e.preventDefault();",
                                                    "         //定位。显示 右键菜单",
                                                    " rightMenu.showAt(e.getXY());"
                                                ],
                                                "name": "cellcontextmenu",
                                                "scope": "me"
                                            },
                                            "name": "onEticketManagerGridPanelCellContextMenu",
                                            "designerId": "1345c3a4-9bf4-47be-98af-337c2fbdcdaa"
                                        },
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onEticketManagerGridPanelRowClick",
                                                "implHandler": [
                                                    "var record=record.data;",
                                                    "var EticketManagerPropertyGrid=Ext.getCmp('EticketManagerPropertyGrid');",
                                                    "/**LimitShop**/",
                                                    "var useshop=record.f_useshop;",
                                                    "var result;",
                                                    "var shopStr;",
                                                    "if(useshop!==undefined&&useshop!==''){",
                                                    "    result=JSON.parse(useshop);",
                                                    "    shopStr=result[0].shopName;",
                                                    "   for(var i=1;i<result.length;i++){",
                                                    "       if(shopStr===undefined){",
                                                    "           shopStr=result[i].shopName;",
                                                    "       }else{",
                                                    "           if(result[i].shopName!==undefined){",
                                                    "               shopStr=shopStr+','+result[i].shopName;",
                                                    "           }",
                                                    "       }",
                                                    "",
                                                    "   }",
                                                    "}",
                                                    "var f_useCount;",
                                                    "if(record.f_initnum!==undefined&&record.f_prenum!==undefined){",
                                                    "    f_useCount=record.f_initnum-record.f_prenum;",
                                                    "}else{",
                                                    "    f_useCount=undefined;",
                                                    "}",
                                                    "",
                                                    "EticketManagerPropertyGrid.setSource({",
                                                    "    f_id:record.f_id,",
                                                    "    f_name:record.f_name,",
                                                    "    f_type:record.f_type,",
                                                    "    f_starttime:(record.f_starttime===undefined)?undefined:record.f_starttime,",
                                                    "    f_endtime:(record.f_endtime===undefined)?undefined:record.f_endtime,",
                                                    "    f_oneuse:record.f_oneuse,",
                                                    "    f_oneget:record.f_oneget,",
                                                    "    f_getlimite:record.f_getlimite,",
                                                    "    f_minspending:(record.f_minspending===undefined)?undefined:record.f_minspending+'元',",
                                                    "    f_money:(record.f_money===undefined)?undefined:record.f_money+'元',",
                                                    "    f_rebate:record.f_rebate,",
                                                    "    f_prenum:record.f_prenum,",
                                                    "    f_details:record.f_details,",
                                                    "    f_message:record.f_message,",
                                                    "    f_userule:record.f_userule,",
                                                    "    f_useshop:shopStr,",
                                                    "    f_initnum:record.f_initnum,",
                                                    "    f_useCount:f_useCount",
                                                    "    ",
                                                    "},{",
                                                    "    f_id:{",
                                                    "        displayName:'电子券序号',",
                                                    "    },",
                                                    "    f_name:{",
                                                    "        displayName:'电子券名称',",
                                                    "    },",
                                                    "    f_type:{",
                                                    "        displayName:'电子券类型',",
                                                    "    },",
                                                    "    f_starttime:{",
                                                    "        displayName:'有效开始日期',",
                                                    "    },",
                                                    "    f_endtime:{",
                                                    "        displayName:'有效结束日期',",
                                                    "    },",
                                                    "    f_oneuse:{",
                                                    "        displayName:'单人单日限用',",
                                                    "    },",
                                                    "    f_oneget:{",
                                                    "        displayName:'单人单日限领',",
                                                    "    },",
                                                    "    f_getlimite:{",
                                                    "        displayName:'单人限领',",
                                                    "    },",
                                                    "    f_minspending:{",
                                                    "        displayName:'最低消费额',",
                                                    "    },",
                                                    "    f_money:{",
                                                    "        displayName:'优惠券金额',",
                                                    "    },",
                                                    "    f_rebate:{",
                                                    "        displayName:'折扣',",
                                                    "    },",
                                                    "    f_prenum:{",
                                                    "        displayName:'当前剩余数量',",
                                                    "    },",
                                                    "    f_details:{",
                                                    "        displayName:'优惠详情',",
                                                    "    },",
                                                    "    f_message:{",
                                                    "        displayName:'短信内容',",
                                                    "    },",
                                                    "    f_userule:{",
                                                    "        displayName:'使用规则',",
                                                    "    },",
                                                    "    f_useshop:{",
                                                    "        displayName:'限制店铺',",
                                                    "    },",
                                                    "    f_initnum:{",
                                                    "        displayName:'初始数量'",
                                                    "    },",
                                                    "    f_useCount:{",
                                                    "        displayName:'已赠送数量',",
                                                    "}",
                                                    "});",
                                                    ""
                                                ],
                                                "name": "rowclick",
                                                "scope": "me"
                                            },
                                            "name": "onEticketManagerGridPanelRowClick",
                                            "designerId": "86123aa9-448a-4746-a019-c5ccd021491c"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.tab.Tab",
                                    "reference": {
                                        "name": "tabConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "TabConfig",
                                    "designerId": "b376418f-4e21-4b9b-a9fa-d83d80f6ebec"
                                }
                            ]
                        },
                        {
                            "type": "Ext.panel.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "ncanUseEticket",
                                "layout": "fit",
                                "title": "已失效优惠券"
                            },
                            "name": "MyPanel5",
                            "designerId": "f87c1f24-f63f-49b8-9522-1f85c377c97b",
                            "cn": [
                                {
                                    "type": "Ext.tab.Tab",
                                    "reference": {
                                        "name": "tabConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "TabConfig1",
                                    "designerId": "9273a1d4-8b29-4bbc-989f-ce3d1ff8578b"
                                },
                                {
                                    "type": "Ext.grid.Panel",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "columnLines": true,
                                        "itemId": "eticketDestoryGridPanel",
                                        "store": "EticketDestoryStore",
                                        "title": ""
                                    },
                                    "name": "MyGridPanel4",
                                    "designerId": "a42a8449-0c9e-4582-8a8d-fdc06b2c8890",
                                    "cn": [
                                        {
                                            "type": "Ext.grid.column.RowNumberer",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "align": "center",
                                                "text": "序号",
                                                "width": 74
                                            },
                                            "name": "MyRowNumberer1",
                                            "designerId": "83eb2b10-0e5d-4a2c-bbda-1dd5c425ed89"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_name",
                                                "text": "名称",
                                                "width": 152
                                            },
                                            "name": "MyColumn5",
                                            "designerId": "5e625c62-e713-4e52-b444-e54ce58c57e4"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_type",
                                                "text": "类型"
                                            },
                                            "name": "MyColumn10",
                                            "designerId": "a1459326-1b75-419d-95cd-9d09ce0b2396"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_id",
                                                "hidden": true,
                                                "text": "优惠券编号"
                                            },
                                            "name": "MyColumn4",
                                            "designerId": "ddb332e4-e4a6-4e9c-b412-6245e9b97fb3"
                                        },
                                        {
                                            "type": "Ext.grid.column.Date",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_starttime",
                                                "format": "Y-m-d",
                                                "text": "有效开始日期"
                                            },
                                            "name": "MyDateColumn",
                                            "designerId": "ec7b804d-7b17-4ecd-8ae3-8af8aa347c09"
                                        },
                                        {
                                            "type": "Ext.grid.column.Date",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_endtime",
                                                "format": "Y-m-d",
                                                "text": "有效截止日期"
                                            },
                                            "name": "MyDateColumn1",
                                            "designerId": "79dfa63d-8582-4f3a-bdd8-9d26a46482db"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_money",
                                                "text": "金额"
                                            },
                                            "name": "MyColumn17",
                                            "designerId": "1f554198-2318-4344-bf75-d5223da4b52b"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_rebate",
                                                "text": "折扣"
                                            },
                                            "name": "MyColumn18",
                                            "designerId": "3c6e387c-c87d-4ad6-af67-739bd7788084"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "f_prenum",
                                                "text": "剩余数量"
                                            },
                                            "name": "MyColumn19",
                                            "designerId": "b1a5a037-fb9f-4eab-a0af-dcfed6c2a428"
                                        },
                                        {
                                            "type": "Ext.grid.View",
                                            "reference": {
                                                "name": "viewConfig",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "name": "MyGridView3",
                                            "designerId": "2abc739b-3a6c-45a8-93cb-6382dec02323"
                                        },
                                        {
                                            "type": "Ext.selection.RowModel",
                                            "reference": {
                                                "name": "selModel",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "name": "MyRowSelectionModel",
                                            "designerId": "12ef55b8-c6b3-4ea8-9a25-b1b380c8f588"
                                        },
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onEticketDestoryGridPanelCellContextMenu",
                                                "implHandler": [
                                                    "var targetDel=\"/action/eticket/delete.do\";",
                                                    "var storeId='EticketManagerStore';",
                                                    "var refreshUrl=\"/action/eticket/list.do?system=ytadmin@7788\";",
                                                    "var rightMenu=new CallCenterApp.view.RightClickMenu({",
                                                    "    record: record,",
                                                    "    targetDel:targetDel,",
                                                    "    storeId:storeId,",
                                                    "    refreshUrl:refreshUrl",
                                                    "});",
                                                    "e.preventDefault();",
                                                    "         //定位。显示 右键菜单",
                                                    " rightMenu.showAt(e.getXY());"
                                                ],
                                                "name": "cellcontextmenu",
                                                "scope": "me"
                                            },
                                            "name": "onEticketDestoryGridPanelCellContextMenu",
                                            "designerId": "d09378dc-f69f-44fe-a011-807a09c27b31"
                                        },
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onEticketDestoryGridPanelRowClick",
                                                "implHandler": [
                                                    "var record=record.data;",
                                                    "var EticketManagerPropertyGrid=Ext.getCmp('EticketManagerPropertyGrid');",
                                                    "/**LimitShop**/",
                                                    "var useshop=record.f_useshop;",
                                                    "var result;",
                                                    "var shopStr;",
                                                    "if(useshop!==undefined&&useshop!==''){",
                                                    "    result=JSON.parse(useshop);",
                                                    "    shopStr=result[0].shopName;",
                                                    "   for(var i=1;i<result.length;i++){",
                                                    "       if(shopStr===undefined){",
                                                    "           shopStr=result[i].shopName;",
                                                    "       }else{",
                                                    "           if(result[i].shopName!==undefined){",
                                                    "               shopStr=shopStr+','+result[i].shopName;",
                                                    "           }",
                                                    "       }",
                                                    "",
                                                    "",
                                                    "",
                                                    "   }",
                                                    "}",
                                                    "",
                                                    "",
                                                    "EticketManagerPropertyGrid.setSource({",
                                                    "    f_id:record.f_id,",
                                                    "    f_name:record.f_name,",
                                                    "    f_type:record.f_type,",
                                                    "    f_starttime:(record.f_starttime===undefined)?undefined:record.f_starttime,",
                                                    "    f_endtime:(record.f_endtime===undefined)?undefined:record.f_endtime,",
                                                    "    f_oneuse:record.f_oneuse,",
                                                    "    f_oneget:record.f_oneget,",
                                                    "    f_getlimite:record.f_getlimite,",
                                                    "    f_minspending:(record.f_minspending===undefined)?undefined:record.f_minspending+'元',",
                                                    "    f_money:(record.f_money===undefined)?undefined:record.f_money+'元',",
                                                    "    f_rebate:record.f_rebate,",
                                                    "    f_prenum:record.f_prenum,",
                                                    "    f_details:record.f_details,",
                                                    "    f_message:record.f_message,",
                                                    "    f_userule:record.f_userule,",
                                                    "    f_useshop:shopStr,",
                                                    "    f_useCount:record.f_initnum",
                                                    "},{",
                                                    "    f_id:{",
                                                    "        displayName:'电子券序号',",
                                                    "    },",
                                                    "    f_name:{",
                                                    "        displayName:'电子券名称',",
                                                    "    },",
                                                    "    f_type:{",
                                                    "        displayName:'电子券类型',",
                                                    "    },",
                                                    "    f_starttime:{",
                                                    "        displayName:'有效开始日期',",
                                                    "    },",
                                                    "    f_endtime:{",
                                                    "        displayName:'有效结束日期',",
                                                    "    },",
                                                    "    f_oneuse:{",
                                                    "        displayName:'单人单日限用',",
                                                    "    },",
                                                    "    f_oneget:{",
                                                    "        displayName:'单人单日限领',",
                                                    "    },",
                                                    "    f_getlimite:{",
                                                    "        displayName:'单人限领',",
                                                    "    },",
                                                    "    f_minspending:{",
                                                    "        displayName:'最低消费额',",
                                                    "    },",
                                                    "    f_money:{",
                                                    "        displayName:'优惠券金额',",
                                                    "    },",
                                                    "    f_rebate:{",
                                                    "        displayName:'折扣',",
                                                    "    },",
                                                    "    f_prenum:{",
                                                    "        displayName:'预发数量',",
                                                    "    },",
                                                    "    f_details:{",
                                                    "        displayName:'优惠详情',",
                                                    "    },",
                                                    "    f_message:{",
                                                    "        displayName:'短信内容',",
                                                    "    },",
                                                    "    f_userule:{",
                                                    "        displayName:'使用规则',",
                                                    "    },",
                                                    "    f_useshop:{",
                                                    "        displayName:'限制店铺',",
                                                    "    },",
                                                    "});",
                                                    ""
                                                ],
                                                "name": "rowclick",
                                                "scope": "me"
                                            },
                                            "name": "onEticketDestoryGridPanelRowClick",
                                            "designerId": "a288a877-c54c-422c-a2de-f1204b10b389"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.panel.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "hidden": true,
                                "title": "Tab 3"
                            },
                            "name": "MyPanel6",
                            "designerId": "6b8d3b20-32f5-49f2-9cdb-8bec81f9be23",
                            "cn": [
                                {
                                    "type": "Ext.tab.Tab",
                                    "reference": {
                                        "name": "tabConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "TabConfig2",
                                    "designerId": "7c5060ed-b1ea-4729-92ee-856752cb1fbd"
                                }
                            ]
                        },
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onEticketManagerTabPanelTabChange",
                                "implHandler": [
                                    "/**切换tab选项**/",
                                    "if(newCard.getItemId()==='ncanUseEticket'){",
                                    "     var EticketDestoryStore = Ext.getStore('EticketDestoryStore');",
                                    "        EticketDestoryStore.removeAll();",
                                    "        var ajaxProxy = EticketDestoryStore.getProxy();",
                                    "        var url = Ext.getStore('ConfigStore').getAt(0).get('WebServerUrl');",
                                    "        ajaxProxy.setUrl(url + \"/action/eticket/list.do?system=ytadmin@7788&status=0\");",
                                    "        EticketDestoryStore.load();",
                                    "",
                                    "}"
                                ],
                                "name": "tabchange",
                                "scope": "me"
                            },
                            "name": "onEticketManagerTabPanelTabChange",
                            "designerId": "104cf81f-b6f6-4a6a-a93b-68eb569907f4"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.property.Grid",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "collapsible": true,
                        "designer|uiInterfaceName": "default-framed",
                        "frame": true,
                        "id": "EticketManagerPropertyGrid",
                        "itemId": "EticketManagerPropertyGrid",
                        "layout|flex": 3,
                        "layout|region": "east",
                        "layout|split": true,
                        "source": null,
                        "title": "属性",
                        "titleCollapse": true,
                        "width": 130
                    },
                    "name": "MyPropertyGrid1",
                    "designerId": "92cebb08-66a5-481e-8257-3feeebe82d8d"
                }
            ]
        },
        {
            "type": "Ext.toolbar.Paging",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "displayInfo": true,
                "dock": "bottom",
                "store": "EticketManagerStore",
                "width": 360
            },
            "name": "MyPagingToolbar1",
            "designerId": "c6b96e6b-c457-4c11-ae82-65caae2b6707"
        },
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dock": "top"
            },
            "name": "MyToolbar",
            "designerId": "d7665135-9744-41e6-9501-5733ef383815",
            "cn": [
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "reFreshButton",
                        "layout|flex": null,
                        "text": "刷新"
                    },
                    "name": "MyButton5",
                    "designerId": "c4d910b5-b8a2-471e-a5a2-b4b57ec281dc",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onReFreshButtonClick",
                                "implHandler": [
                                    "var EticketManagerStore = Ext.getStore('EticketManagerStore');",
                                    "var ajaxProxy = EticketManagerStore.getProxy();",
                                    "var url = Ext.getStore('ConfigStore').getAt(0).get('WebServerUrl');",
                                    "ajaxProxy.setUrl(url + \"/action/eticket/list.do?system=ytadmin@7788&status=1\");",
                                    "EticketManagerStore.load();"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "name": "onReFreshButtonClick",
                            "designerId": "624d1f0d-66f5-4d55-ba4b-69229f384838"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "exportButton",
                        "layout|flex": null,
                        "text": "导出"
                    },
                    "name": "MyButton6",
                    "designerId": "8bf6c191-e24d-4f19-96d2-5abb5ae3166b"
                }
            ]
        },
        {
            "type": "viewcontrollereventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onEticketManagerPanelRender",
                "implHandler": [
                    "this.onReFreshButtonClick(null,null,null);"
                ],
                "name": "render",
                "scope": "me"
            },
            "name": "onEticketManagerPanelRender",
            "designerId": "71563856-ed3c-4b3c-8cc8-53bb0aa6081f"
        }
    ]
}