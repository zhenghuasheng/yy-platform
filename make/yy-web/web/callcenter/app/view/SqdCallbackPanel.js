/*
 * File: app/view/SqdCallbackPanel.js
 *
 * This file was generated by Sencha Architect version 3.2.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 5.0.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 5.0.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('CallCenterApp.view.SqdCallbackPanel', {
    extend: 'Ext.panel.Panel',
    alias: 'widget.sqdcbpanel',

    requires: [
        'CallCenterApp.view.SqdCallbackPanelViewModel',
        'CallCenterApp.view.SqdCallbackPanelViewController',
        'Ext.grid.Panel',
        'Ext.grid.column.Boolean',
        'Ext.grid.View',
        'Ext.button.Button',
        'Ext.toolbar.Paging'
    ],

    controller: 'sqdcallbackpanel',
    viewModel: {
        type: 'sqdcallbackpanel'
    },
    itemId: 'sqdCallbackPanel',
    bodyPadding: 10,
    closable: true,
    title: '社区店回访列表',
    titleAlign: 'center',
    titleCollapse: false,

    items: [
        {
            xtype: 'gridpanel',
            autoScroll: true,
            itemId: 'orderGrid',
            title: '回访列表',
            columnLines: true,
            store: 'SqdCallbackStore',
            columns: [
                {
                    xtype: 'gridcolumn',
                    align: 'center',
                    dataIndex: 'f_carno',
                    text: '车牌号'
                },
                {
                    xtype: 'gridcolumn',
                    align: 'center',
                    dataIndex: 'f_name',
                    text: '客户姓名'
                },
                {
                    xtype: 'gridcolumn',
                    align: 'center',
                    dataIndex: 'f_phone',
                    text: '电话'
                },
                {
                    xtype: 'gridcolumn',
                    align: 'center',
                    dataIndex: 'f_cartype',
                    text: '车型'
                },
                {
                    xtype: 'gridcolumn',
                    width: 150,
                    align: 'center',
                    dataIndex: 'f_initdate',
                    text: '创建时间'
                },
                {
                    xtype: 'booleancolumn',
                    align: 'center',
                    dataIndex: 'f_status',
                    text: '状态',
                    falseText: '未完结',
                    trueText: '已完结',
                    undefinedText: '未知'
                },
                {
                    xtype: 'gridcolumn',
                    align: 'center',
                    dataIndex: 'f_total',
                    text: '订单总价'
                },
                {
                    xtype: 'gridcolumn',
                    align: 'center',
                    dataIndex: 'f_rebate',
                    text: '折扣'
                },
                {
                    xtype: 'gridcolumn',
                    align: 'center',
                    dataIndex: 'f_amount',
                    text: '结算金额'
                },
                {
                    xtype: 'gridcolumn',
                    width: 150,
                    align: 'center',
                    dataIndex: 'f_deptname',
                    text: '店铺名称'
                }
            ],
            viewConfig: {
                xtype: 'tableview'
            },
            listeners: {
                selectionchange: 'onGridpanelSelectionChange'
            }
        },
        {
            xtype: 'gridpanel',
            title: '订单详情',
            columnLines: true,
            store: 'SqdOrderStore',
            columns: [
                {
                    xtype: 'gridcolumn',
                    align: 'center',
                    dataIndex: 'f_odid',
                    text: '编号'
                },
                {
                    xtype: 'gridcolumn',
                    align: 'center',
                    dataIndex: 'f_sgname',
                    text: '项目名称'
                },
                {
                    xtype: 'gridcolumn',
                    align: 'center',
                    dataIndex: 'f_price',
                    text: '价格'
                },
                {
                    xtype: 'gridcolumn',
                    align: 'center',
                    dataIndex: 'f_curoff',
                    text: '折扣'
                },
                {
                    xtype: 'gridcolumn',
                    align: 'center',
                    dataIndex: 'f_charge',
                    text: '结算'
                }
            ]
        }
    ],
    dockedItems: [
        {
            xtype: 'toolbar',
            dock: 'top',
            items: [
                {
                    xtype: 'button',
                    itemId: 'refreshBtn',
                    text: '刷新',
                    listeners: {
                        click: 'onRefreshBtnClick'
                    }
                },
                {
                    xtype: 'button',
                    itemId: 'exportBtn',
                    text: '导出当前页',
                    listeners: {
                        click: 'onExportBtnClick'
                    }
                }
            ]
        },
        {
            xtype: 'pagingtoolbar',
            dock: 'bottom',
            width: 360,
            displayInfo: true,
            store: 'SqdCallbackStore'
        }
    ],
    listeners: {
        render: 'onSqdCallbackPanelRender'
    }

});